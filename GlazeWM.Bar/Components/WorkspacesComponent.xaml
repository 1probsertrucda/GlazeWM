<UserControl
  x:Class="GlazeWM.Bar.Components.WorkspacesComponent"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:GlazeWM.Bar.Components"
  mc:Ignorable="d">
  <ItemsControl ItemsSource="{Binding Workspaces}">
    <ItemsControl.ItemsPanel>
      <ItemsPanelTemplate>
        <UniformGrid
          Rows="1"
          HorizontalAlignment="Left"
          IsItemsHost="True" />
      </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>

    <ItemsControl.ItemTemplate>
      <DataTemplate>
        <Button
          x:Name="WorkspaceButton"
          Content="{Binding Name}"
          Background="#242424"
          Foreground="White"
          BorderBrush="Transparent"
          BorderThickness="0"
          MinWidth="{Binding ActualHeight, RelativeSource={RelativeSource Self}}"
          MinHeight="{Binding ActualWidth, RelativeSource={RelativeSource Self}}" />

        <DataTemplate.Triggers>
          <DataTrigger
            Binding="{Binding IsDisplayed}"
            Value="True">
            <Setter
              TargetName="WorkspaceButton"
              Property="Background"
              Value="#42403e" />
          </DataTrigger>
          <DataTrigger
            Binding="{Binding HasFocus}"
            Value="True">
            <Setter
              TargetName="WorkspaceButton"
              Property="Background"
              Value="Orange" />
          </DataTrigger>
        </DataTemplate.Triggers>
      </DataTemplate>
    </ItemsControl.ItemTemplate>
  </ItemsControl>
</UserControl>
