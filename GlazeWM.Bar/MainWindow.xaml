<Window
  x:Class="GlazeWM.Bar.MainWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:local="clr-namespace:GlazeWM.Bar"
  mc:Ignorable="d"
  WindowStyle="None"
  ResizeMode="NoResize"
  Background="{Binding Background}"
  Title="GlazeWMBar"
  ShowInTaskbar="False"
  Width="800"
  Height="50"
  FontFamily="{Binding FontFamily}"
  FontSize="{Binding FontSize}"
  Topmost="True">
  <Border
    BorderThickness="{Binding BorderWidth}"
    BorderBrush="{Binding BorderColor}">
    <DockPanel Margin="{Binding Padding}">
      <ItemsControl ItemsSource="{Binding Workspaces}">
        <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <UniformGrid
              Columns="10"
              HorizontalAlignment="Left"
              IsItemsHost="True" />
          </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>

        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <Button
              x:Name="WorkspaceButton"
              Click="OnWorkspaceButtonClick"
              Content="{Binding Name}"
              Background="#242424"
              Foreground="White"
              BorderBrush="Transparent"
              BorderThickness="0"
              MinWidth="{Binding ActualHeight, RelativeSource={RelativeSource Self}}"
              MinHeight="{Binding ActualWidth, RelativeSource={RelativeSource Self}}" />

            <DataTemplate.Triggers>
              <DataTrigger
                Binding="{Binding IsDisplayed}"
                Value="True">
                <Setter
                  TargetName="WorkspaceButton"
                  Property="Background"
                  Value="#42403e" />
              </DataTrigger>
              <DataTrigger
                Binding="{Binding HasFocus}"
                Value="True">
                <Setter
                  TargetName="WorkspaceButton"
                  Property="Background"
                  Value="#8192B3" />
              </DataTrigger>
            </DataTemplate.Triggers>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </DockPanel>
  </Border>
</Window>
